WindowManager:
    MainScreen:
    SendScreen:
    ReceiveScreen:

<MainScreen>:
    name:"Main"
    GridLayout:
        rows:2
        Label:
            text:"Main"
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Send"
                on_release:
                    app.root.current="send"
                    root.manager.transition.direction = 'right'
            Button:
                text:"Receive"
                on_release:
                    app.root.current="receive"
                    root.manager.transition.direction = 'left'

<SendScreen>:
    name:"send"
    GridLayout:
        rows:2
        Label:
            text:"Send Screen"
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Send"
            Button:
                text:"Back"
                on_release:
                    app.root.current="Main"
                    root.manager.transition.direction = 'left'

<ReceiveScreen>:
    name:"receive"
    ip:ip
    port:port
    username:username
    GridLayout:
        rows:2
        GridLayout:
            cols:2
            Label:
                text:"IP"
            TextInput:
                id:ip
                text:root.ip_prev
                multiline:False
            Label:
                text:"port"
            TextInput:
                id:port
                text:root.port_prev
                multiline:False
            Label:
                text:"username"
            TextInput:
                id:username
                text:root.username_prev
                multiline:False
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Receive"
                on_press:
                    root.try_connect()
            Button:
                text:"Back"
                on_release:
                    app.root.current="Main"
                    root.manager.transition.direction = 'right'

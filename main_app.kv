WindowManager:
    MainScreen:
    SendScreen:
    ReceiveScreen:
    Recv_Sock_Check:
    ReceivingFile:

<MainScreen>:
    name:"Main"
    GridLayout:
        rows:2
        Label:
            text:"Main"
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Send"
                on_release:
                    app.root.current="Send"
                    root.manager.transition.direction = 'right'
            Button:
                text:"Receive"
                on_release:
                    app.root.current="Receive"
                    root.manager.transition.direction = 'left'

<SendScreen>:
    name:"Send"
    GridLayout:
        rows:2
        Label:
            text:"Send Screen"
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Send"
            Button:
                text:"Back"
                on_release:
                    app.root.current="Main"
                    root.manager.transition.direction = 'left'

<ReceiveScreen>:
    name:"Receive"
    ip:ip
    port:port
    username:username
    GridLayout:
        rows:2
        GridLayout:
            cols:2
            Label:
                text:"IP"
            TextInput:
                id:ip
                text:root.ip_prev
                multiline:False
            Label:
                text:"port"
            TextInput:
                id:port
                text:root.port_prev
                multiline:False
            Label:
                text:"username"
            TextInput:
                id:username
                text:root.username_prev
                multiline:False
        GridLayout:
            size_hint_y:0.1
            cols:2
            Button:
                text:"Receive"
                on_press:
                    root.try_connect()
                on_release:
                    app.root.current="Recv_Sock_Check"
                    root.manager.transition.direction = 'left'
            Button:
                text:"Back"
                on_release:
                    app.root.current="Main"
                    root.manager.transition.direction = 'right'

<Recv_Sock_Check>:
    name:"Recv_Sock_Check"
    GridLayout:
        rows:2
        Label:
            text:"CONNECTING"

<ReceivingFile>:
    name:"ReceivingFile"
    cancel_btn:cancel_btn
    file_name:file_name
    file_size:file_size
    file_size_recvd:file_size_recvd
    GridLayout:
        cols:1
        Label:
            id:file_name
            text:"Receiving File Info"
        GridLayout:
            cols:2
            Label:
                id:file_size
                text:""
            Label:
                id:file_size_recvd
                text:""
        Button:
            size_hint_y:0.1
            id:cancel_btn
            text:"CANCEL"
            on_press:
                root.cancel()
            on_release:
                app.root.current="Receive"
                root.manager.transition.direction = 'right'
